<html>
  <head>
     <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-15">
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript">
function getUrlVars()
{
    return unescape(window.location.href).slice(window.location.href.indexOf('?') + 1).split('&');
}

function getColor(){
    colorInteger = getUrlVars()[0].charAt(0);
    switch(colorInteger){
        case '0': return "#EB9999";
        case '1': return "#FFFF99";
        case '2': return "#B8FF94";
    }
}
function getTable(){
	
	var urlVars = getUrlVars();
        var parent = urlVars[0].substring(1, urlVars[0].length);
	var table = new Array();
	table[0] = new Array();
	table[0][0] = "Diagnostic";
	table[0][1] = "Parent";
	table[0][2] = "Impact";
	table[0][3] = "Relevance";
	 table[1] = new Array();
	 table[1][0] = parent;
	  table[1][1] =  null;
	  table[1][2] = 0;
	  table[1][3] = 0;
	
for(var i = 1; i < urlVars.length; i++)
{
	  table[i+1] = new Array();
	  table[i+1][0] = urlVars[i];
	  table[i+1][1] = parent;
	  table[i+1][2] = 1;
	  table[i+1][3] = 4;
}	  

	  return table;
}
 	 
      google.load("visualization", "1", {packages:["treemap"]});
      google.setOnLoadCallback(drawChart);
      function drawChart() {
        // Create and populate the data table.
        var data = google.visualization.arrayToDataTable(getTable());

        // Create and draw the visualization.
        var tree = new google.visualization.TreeMap(document.getElementById('chart_div'));
        var color = getColor();
        tree.draw(data, {
          minColor: color,
          midColor: color,
          maxColor: color,
          headerHeight: 15,
          fontColor: 'black'});
        }
    </script>
  </head>

  <body>
    <div id="chart_div" style="width: 900px; height: 500px;"></div>
  </body>
</html>